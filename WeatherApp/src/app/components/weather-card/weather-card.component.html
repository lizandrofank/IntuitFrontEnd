<p class="top-spacing"></p>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<div class="search-container" >
  <mat-form-field appearance="outline">
    <mat-label>Selecciona una fecha</mat-label>
    <input matInput [matDatepicker]="picker"
           [(ngModel)]="selectedDate"
           (ngModelChange)="onDateChange()" />
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Ciudad</mat-label>
    <input matInput
           [(ngModel)]="city"
           (keydown.enter)="onSearch()" />
  </mat-form-field>

    <button class="search-button" color="primary" (click)="onSearch()">Buscar</button>
    <button class="clear-button" color="warn" (click)="onClear()">Limpiar</button>
    
</div>



<div class="weather-container">
  <!-- Clima actual -->
  <h3 class="forecast-title"  *ngIf="dayCurrent.city">Clima Actual </h3>
  <div class="weather-card-current" *ngIf="dayCurrent.city">
    <h2>{{ dayCurrent.city }}</h2>
    <p><strong>ğŸŒ¡ï¸ Temp. MÃ­n:</strong> {{ dayCurrent.temp_min }}Â°C</p>
    <p><strong>ğŸŒ¡ï¸ Temp. MÃ¡x:</strong> {{ dayCurrent.temp_max }}Â°C</p>
    <p><strong>ğŸ’§ Humedad:</strong> {{ dayCurrent.humidity }}%</p>
    <p><strong>ğŸŒ§ï¸ Prob. de lluvia:</strong> {{ dayCurrent.rainProbability }}</p>
  </div>



    <!-- PronÃ³stico de los prÃ³ximos 5 dÃ­as -->
    <h3 class="forecast-title"  *ngIf="weatherData.city">PronÃ³stico PrÃ³ximos 5 DÃ­as </h3>
    <div class="forecast-container">
      <div class="weather-card" *ngFor="let day of weatherData.forecast">
        <p><strong class="forecast-date ">ğŸ“… {{ day.date | date:'EEEE, dd MMM' }}</strong></p>
        <p><strong>ğŸŒ¡ï¸ Min:</strong> {{ day.temp_min }}Â°C</p>
        <p><strong>ğŸŒ¡ï¸ Max:</strong> {{ day.temp_max }}Â°C</p>
        <p><strong>ğŸ’§ Humedad:</strong> {{ day.humidity }}%</p>
        <p><strong>ğŸŒ§ï¸ Prob. de lluvia:</strong> {{ day.rainProbability }}</p>
      </div>
    </div>
      <!-- Historico Clima-->
      <div *ngIf="weatherDataHistory.date">
        <h3 class="forecast-title"> Clima histÃ³rico para el dia {{ weatherDataHistory.date | date:'dd-MM-yyyy'}} </h3>
       <div class="weather-card-current">
         <h2>{{ weatherDataHistory.city }}</h2>
         <p><strong>ğŸŒ¡ï¸ Temp. MÃ­n:</strong> {{ weatherDataHistory.temp_min }}Â°C</p>
         <p><strong>ğŸŒ¡ï¸ Temp. MÃ¡x:</strong> {{ weatherDataHistory.temp_max }}Â°C</p>
         <p><strong>ğŸ’§ Humedad:</strong> {{ weatherDataHistory.humidity }}%</p>
         <p><strong>ğŸŒ§ï¸ Prob. de lluvia:</strong> {{ weatherDataHistory.rainProbability }}</p>
       </div>
     </div>
</div>
